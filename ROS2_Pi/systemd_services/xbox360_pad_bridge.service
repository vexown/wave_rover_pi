[Unit]
Description=Xbox Controller to UART Bridge
# No longer requires xboxdrv to be running at start - will wait for controller
After=network.target
# Remove restart limits to allow unlimited retries when controller connects/disconnects
StartLimitIntervalSec=0

[Service]
# Run as your user, as the script is located in your home directory
User=blankmcu
Environment="HOME=/home/blankmcu"
WorkingDirectory=/home/blankmcu/ros2_ws/controller_uart_bridge
Type=simple
# Execute the Python script
ExecStart=/usr/bin/python3 /home/blankmcu/ros2_ws/controller_uart_bridge/controller_uart_bridge.py
Restart=always
RestartSec=5
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target